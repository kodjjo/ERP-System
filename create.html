<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Create Inventory Item</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      padding-bottom: 100px;
    }
  </style>
</head>
<body class="bg-gradient-to-br from-blue-200 via-blue-300 to-blue-400 min-h-screen">

  <div class="max-w-4xl mx-auto mt-12 space-y-10 text-gray-800">

<div class="text-center mb-10">
  <h1 class="text-5xl sm:text-6xl font-extrabold bg-gradient-to-r from-black via-gray-600 to-white bg-clip-text text-transparent drop-shadow-lg">
    Create Inventory
  </h1>
  <p class="text-gray-700 mt-2 text-lg">Add new items to your inventory</p>
</div>


    <form id="inventoryForm" class="space-y-5">

    <!-- Section 1: Basic Info -->
<div class="bg-white/80 backdrop-blur-md rounded-2xl shadow p-8">
  <h2 class="text-xl font-semibold mb-6 border-b pb-2">Basic Information</h2>

  <div class="space-y-5">
    <div>
      <label for="name" class="block font-medium mb-1">Item Name</label>
      <input type="text" id="name" name="name" required class="w-full border rounded px-3 py-2" />
    </div>

    <div>
      <label for="category" class="block font-medium mb-1">Category</label>
      <select id="category" name="category" required class="w-full border rounded px-3 py-2">
        <option value="" disabled selected>Select a category</option>
        <option value="Electronics">Electronics</option>
        <option value="Vehicles">Vehicles</option>
        <option value="Furniture">Furniture</option>
        <option value="Stationery">Stationery</option>
        <option value="Cleaning Supplies">Cleaning Supplies</option>
        <option value="Other">Other</option>
      </select>
    </div>

    <div>
      <label for="condition" class="block font-medium mb-1">Condition</label>
      <select id="condition" name="condition" class="w-full border rounded px-3 py-2">
        <option value="New">New</option>
        <option value="Used">Used</option>
      </select>
    </div>
  </div>
</div>


   <!-- Section 2: Location & Tracking -->
<div class="bg-white/80 backdrop-blur-md rounded-2xl shadow p-8">
  <h2 class="text-xl font-semibold mb-6 border-b pb-2">Location & Tracking</h2>

  <div class="space-y-5">
    <div>
  <label for="warehouse" class="block font-medium">Import Location</label>
  <input type="text" id="warehouse" name="warehouse" required 
         placeholder="e.g. Accra, Tema, Takoradi etc.."
         class="w-full border rounded px-3 py-2 mt-1" />
</div>

    <div>
      <label for="dateReceived" class="block font-medium mb-1">Date Received</label>
      <input type="date" id="dateReceived" name="dateReceived" required class="w-full border rounded px-3 py-2" />
    </div>

    <div>
  <label for="Batch" class="block font-medium">Batch Number</label>
  <input type="text" id="Batch" name="Batch" required 
         placeholder="e.g. BN123456789"
         class="w-full border rounded px-3 py-2 mt-1" />
</div>


    <div>
      <label for="supplier" class="block font-medium mb-1">Supplier Name</label>
      <input type="text" id="supplier" name="supplier" required class="w-full border rounded px-3 py-2" />
    </div>
  </div>
</div>


   <!-- Section 3: Stock & Pricing -->
<div class="bg-white/80 backdrop-blur-md rounded-2xl shadow p-8">
  <h2 class="text-xl font-semibold mb-6 border-b pb-2">Stock & Pricing</h2>

  <div class="space-y-5">
    <div>
      <label for="quantity" class="block font-medium mb-1">Quantity</label>
      <input type="number" id="quantity" name="quantity" required class="w-full border rounded px-3 py-2" />
    </div>

    <div>
      <label for="price" class="block font-medium mb-1">Price (GHS)</label>
      <div class="relative">
        <span class="absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500">₵</span>
        <input type="number" id="price" name="price" required placeholder="0.00" class="w-full border rounded px-3 py-2 pl-8" />
      </div>
    </div>
  </div>
</div>


        <!-- Section 4: Extra Info -->
<div class="bg-white/80 backdrop-blur-md rounded-2xl shadow p-8">
  <h2 class="text-xl font-semibold mb-6 border-b pb-2">Extra Info</h2>

  <div class="space-y-5">
    <div>
      <label for="image" class="block font-medium mb-1">Image Upload</label>
      <input type="file" id="image" name="image" accept="image/*" class="w-full border rounded px-3 py-2" />
      <img id="imagePreview" class="mt-4 w-48 h-48 object-cover rounded border hidden mx-auto shadow" />
    </div>

    <div>
      <label for="notes" class="block font-medium mb-1">Notes (Optional)</label>
      <textarea id="notes" name="notes" rows="4" class="w-full border rounded px-3 py-2" placeholder="Any additional information..."></textarea>
    </div>
  </div>
</div>

       </form>
</div>

<!-- ✨ Save & Back Buttons -->
<div class="max-w-2xl mx-auto text-center mt-12 flex justify-center gap-4">
  <button 
    type="submit" 
    form="inventoryForm" 
    class="bg-blue-600 hover:bg-blue-700 text-white py-2 px-6 rounded font-semibold transition">
    Save Item
  </button>

  <a 
    href="index.html" 
    class="inline-block text-blue-700 hover:underline bg-white/70 px-4 py-2 rounded shadow">
    ← Back to Inventory
  </a>
</div>




  <script>
    const form = document.getElementById('inventoryForm');
    const nameInput = document.getElementById('name');
    const quantityInput = document.getElementById('quantity');
    const priceInput = document.getElementById('price');
    const imageInput = document.getElementById('image');
    const imagePreview = document.getElementById('imagePreview');
    const conditionInput = document.getElementById('condition');
    const warehouseInput = document.getElementById('warehouse');
    const dateReceivedInput = document.getElementById('dateReceived');
    const supplierInput = document.getElementById('supplier');
    const categoryInput = document.getElementById('category');
    const BatchInput = document.getElementById('Batch');
    const notesInput = document.getElementById('notes');

    imageInput.addEventListener('change', function () {
      const file = imageInput.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function (e) {
          imagePreview.src = e.target.result;
          imagePreview.classList.remove('hidden');
        };
        reader.readAsDataURL(file);
      } else {
        imagePreview.src = '';
        imagePreview.classList.add('hidden');
      }
    });

    const editingItem = JSON.parse(localStorage.getItem('editItem'));
    if (editingItem) {
      nameInput.value = editingItem.name;
      quantityInput.value = editingItem.quantity;
      priceInput.value = editingItem.price;
      warehouseInput.value = editingItem.warehouse || '';
      dateReceivedInput.value = editingItem.dateReceived || '';
      supplierInput.value = editingItem.supplier || '';
      categoryInput.value = editingItem.category || '';
      BatchInput.value = editingItem.Batch || '';
      notesInput.value = editingItem.notes || '';
      conditionInput.value = editingItem.condition || '';

      if (editingItem.image) {
        imagePreview.src = editingItem.image;
        imagePreview.classList.remove('hidden');
      }
    }

    form.addEventListener('submit', function (e) {
      e.preventDefault();

      const name = nameInput.value;
      const quantity = quantityInput.value;
      const price = priceInput.value;
      const imageFile = imageInput.files[0];
      const inventory = JSON.parse(localStorage.getItem('inventory')) || [];

      function saveItem(imageData) {
        let updatedInventory;

        if (editingItem) {
          updatedInventory = inventory.map(item =>
            item.id === editingItem.id
              ? { ...editingItem, name, quantity, price, image: imageData || editingItem.image,
                  condition: conditionInput.value,
                  warehouse: warehouseInput.value,
                  dateReceived: dateReceivedInput.value,
                  supplier: supplierInput.value,
                  category: categoryInput.value,
                  Batch: BatchInput.value,
                  notes: notesInput.value
                }
              : item
          );
          localStorage.removeItem('editItem');
        } else {
          const newItem = {
            id: Date.now(),
            name,
            quantity,
            price,
            image: imageData || null,
            condition: conditionInput.value,
            warehouse: warehouseInput.value,
            dateReceived: dateReceivedInput.value,
            supplier: supplierInput.value,
            category: categoryInput.value,
            Batch: BatchInput.value,
            notes: notesInput.value
          };
          updatedInventory = [...inventory, newItem];
        }

        localStorage.setItem('inventory', JSON.stringify(updatedInventory));
        window.location.href = 'index.html';
      }

      if (imageFile) {
        const reader = new FileReader();
        reader.onload = function () {
          saveItem(reader.result);
        };
        reader.readAsDataURL(imageFile);
      } else {
        saveItem();
      }
    });
  </script>
</body>
</html>